---
title: "Olympic Gymnastics EDA"
author: "WIll Gertsch"
date: "July 21, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

## Introduction

Gymnastics is a sport that I believe has a lot of potential for analytic. There is a decent amount of data and domain knowledge of the sport is challenging but rewarding to work with. My goal for this analysis is to explore how gymnasts have changed over the years.

## The Data

The dataset that I'm working with is <https://www.kaggle.com/heesoo37/120-years-of-olympic-history-athletes-and-results>. It comes as a csv file, so I'll just go ahead and load it from my project directory.

```{r load data}
athlete_events <- read.csv("athlete_events.csv")
```

Now that the data is loaded, let's get a general idea of what fields we are dealing with.
```{r}
head(athlete_events)
```

Now since this is an exploration of gymnastics at the Olympics, we will need to filter the data down to just gymnastics. The problem is that I have no idea what gymnastics is called in the data. I know I want to filter on the "Sport" column, but I don't know which value(s) to filter by. 
```{r}
unique(athlete_events[str_detect(athlete_events$Sport, "Gymnastics"), "Sport"])
```
We have found two sports by looking for the word "Gymnastics." We want to choose the "Gymnastics" value to filter our data since it refers to Artistic Gymnastics, which is the kind that most people think of when they think of the sport.
```{r, warning=FALSE}
gym <- filter(athlete_events, Sport=="Gymnastics")
```

Now we have the data for just gymnastics. I want to additionally prune this data to get rid of some columns we don't really need. ID should correspond to the athlete name, but that is worth double checking. Team and NOC basically represent the same thing, so we can drop one and just use the other. I will use the "Team" column since it is easier to understand than the NOC system. In other case, there is the issue  of names changing over time. We will need to clean that aspect up if we ever want to group by a particular country. Games and Season are not useful because gymnastics is always in the summer games and the year is taken care of by the Year column. City will not provide any useful insight because it really isn't connected to any of the other variables. Finally, Sport will also be removed because all its values are now the same.

I also changed the units used in Height and Weight from metric to imperial.
```{r}
gym <- gym[, c("Name", "Sex", "Age", "Height", "Weight", "Team", "Year", "Event", "Medal")] %>% 
  mutate(Height=round(Height*(0.0328084),1),
         Weight = round(Weight*(2.20462)))
```

Let's look at our data again.
```{r}
head(gym)
```
That looks a lot more usable!

## Plots
Now we can start getting an idea of what the data looks like visually.

Let's start by looking at the age of the athletes.

```{r age scatter, echo=FALSE, warning=FALSE}
ggplot(gym, aes(x=Year,y=Age, color=Sex))+geom_jitter()
```

This plot is not very helpful because of how bunched together the data is, even with jittering. Even so, we can get a few things out of this graph:
* Men in gymnastics seem to be older than women are.
* Athletes seem to get younger with a minimum in the 80's and then get older again.

Let's try a different plot to see if we can get more insight:
```{r age smooth plot, echo=FALSE, warning=FALSE, message=FALSE}
ggplot(gym, aes(x=Year, y=Age, color=Sex))+geom_smooth()
```

This is a much more useful graph that confirms some of the things we hypothesized earlier. It is easy to see that men are older and that athlete ages for both sexes was at a minimum in the 80's.